@(message: String)
<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #map { height: 100%; }
    </style>
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("css-templates/treviso/css/style.css")">
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("stylesheets/main.css")">
    <link href="assets/flapper/css/flapper.css" type="text/css" rel="stylesheet" />
    
    <script src="@routes.Assets.versioned("javascripts/libs/jquery-2.1.4.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/libs/jquery-ui.min.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/libs/jquery.cookie.js")"></script>
    <!-- <script src="@routes.Assets.versioned("javascripts/libs/highcharts.js")"></script> -->
    <script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/fusioncharts.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/fusioncharts.widgets.js")"></script>
	<script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/themes/fusioncharts.theme.zune.js")"></script>
	<script type="text/javascript" src="@routes.Assets.versioned("fusioncharts/fusioncharts-jquery-plugin.js")"></script>
	<script src="@routes.Assets.versioned("javascripts/plot-fusioncharts.js")"></script>
	
	<script src="assets/flapper/transform/dist/jquery.transform-0.9.3.min.js"></script>
    <script src="assets/flapper/src/jquery.flapper.js"></script>

    <script src="@routes.Assets.versioned("javascripts/main.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/airport.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/airplane.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/airline.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/country.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/websocket.js")"></script>
    <script src="@routes.Assets.versioned("javascripts/gadgets.js")"></script>
  </head>
  <body>
  	<input type="hidden" id="floatMessage" value="@message"/>
  	<div id="floatMessageBox" style="height: 30px; width: 400px; display: none;"></div>
  	<div id="topBar" data-scroll="false" class="menubar">
  		<div style="float: left;">
  			<span id="currentTime" class="label"></span>
  			<span id="currentAirline" class="label"></span> 
  			<span id="currentAirlineCountry"></span>
  			Balance: $<span id="balance" class="label"></span> 
  			Reputation: <span id="reputation" class="label"></span> <span id="reputationLevel" class="label"></span>
  			Service Quality: <span id="serviceQuality" class="label"></span>
  			Service Funding: <input type="text" id="serviceFunding"/>
  			<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="updateServiceFunding()"/>
  			Maintenance Quality: <span id="maintenanceQualityGauge"></span>
  			<input type="hidden" id="maintenanceQuality"/>
  			<img src='@routes.Assets.versioned("images/icons/tick.png")' class='button' style="vertical-align: middle;" onclick="updateMaintenanceQuality()"/>
  		</div>
  		<div style="float: right;">
  			<div style="display: hidden;" id="loginDiv">
	  			<span class="label">User Name</span>
	  			<input type="text" id="loginUserName"/>
	  			<span class="label">Password</span>
	  			<input type="password" id="loginPassword"/>
	  			<div class="button" onclick="login()">Login</div>
	  			<a href="signup"><div class="button" onclick="">Sign Up</div></a>
  			</div>
  			<div style="float: right; display: hidden;" id="logoutDiv">
  				<span id="currentUserName" class="label"></span>
  				<div class="button" onclick="logout()">Logout</div> 
  			</div>
		</div>
  	</div>
  	<div id="main" style="width: 100%" >
  		<div id="console" class="marquee" style="width: 100%; position: relative; float: left;" align="center">
  			<div class="div-overlay" onclick="toggleConsoleMessage()" title="Click to toggle message"></div>
  			<span id="consoleMessage"/>
  		</div>
  		 
  		<div style="width: 80px; float: left;">
	  		<ul class="tabs">
			  <li class="button" id="worldMapCanvasTab" onclick="showWorldMap();"><span class="selected">Map</span></li>
			  <li class="button" id="linksCanvasTab" onclick="showLinksDetails();"><span>Routes</span></li>
			  <li class="button" id="airportCanvasTab" onclick="showAirportDetails();"><span>Airport</span></li>
			  <li class="button" id="countryCanvasTab" onclick="showCountryView();"><span>Country</span></li>
			  <li class="button" id="airplaneCanvasTab" onclick="showAirplaneCanvas();"><span>Airplane</span></li>
			</ul>
		</div>
		
<!--   		<div id="linkHistoryButton" class="googleMapButton" onclick="toggleLinkHistory()" align="center"><span class="alignHelper"></span><img src='@routes.Assets.versioned("images/icons/footprints.png")' style="vertical-align: middle;"/></div> -->
<!-- 		<div id="vipButton" class="googleMapButton" onclick="showVipRoutes()" align="center"><span class="alignHelper"></span><img src='@routes.Assets.versioned("images/icons/star.png")' style="vertical-align: middle;"/></div> -->
  	<!-- main canvas start -->
  		<div id="canvas" style="float: left;" >
  			<div id="worldMapCanvas" style="height: 100%;">
  				<div id="map" style="height: 100%; width: 60%; float:left" data-headquarter-marker='@routes.Assets.versioned("images/markers/headquarter.png")' data-base-marker='@routes.Assets.versioned("images/markers/base.png")' data-large-airport-marker='@routes.Assets.versioned("images/markers/airport-darker.png")' data-medium-airport-marker='@routes.Assets.versioned("images/markers/airport.png")'  data-small-airport-marker='@routes.Assets.versioned("images/markers/airport-lighter.png")'></div>
				<div id="sidePanel" style="width: 35% ; float: left; display:none;" >
			    	<div id="detailsPanel" class="section" style="width: 100% ; float: left;">
			    		<div id="linkDetails" style="width: 100%; display: none;">
			    			<div style="width: 50%; float: left">
				    			<div class="table" id="linkCurrentDetails" style="width: 100%">
			    					<h4>Current Details</h4>
				    				<div class="table-row">
					    				<div class="label"><h5>From:</h5></div>
					    				<div class="value" id="linkFromAirport"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>To:</h5></div>
					    				<div class="value" id="linkToAirport"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Distance:</h5></div>
					    				<div class="value" id="linkDistance"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Price:</h5></div>
					    				<div class="value" id="linkCurrentPrice"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Overall Quality:</h5></div>
					    				<div class="value" id="linkQuality"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Capacity (Y/J/F):</h5></div>
					    				<div class="value" id="linkCurrentCapacity"></div>
					    			</div>
					    		</div>
					    		<input type="hidden" id="actionLinkId"></input>
				    			<input type="hidden" id="linkFromAirportId"></input>
				    			<input type="hidden" id="linkToAirportId"></input>
				    			<div class="button" onclick="editLink($('#actionLinkId').val())">Edit</div>
				    			<div class="button" onclick="deleteLink($('#actionLinkId').val())">Delete</div>
				    			<div class="button" onclick="deselectLink()">Cancel</div>
					    		
					    		<div class="divider"></div>
					    		<div class="table" id="linkHistoryDetails" style="width: 100%">
				    				<h4>
				    					History
				    				</h4>	
					    			<div class="table-row">
					    				<div class="label"><h5>Price:</h5></div>
					    				<div class="value" id="linkHistoryPrice"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Capacity (Y/J/F):</h5></div>
					    				<div class="value" id="linkHistoryCapacity"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Load Factor:</h5></div>
					    				<div class="value" id="linkLoadFactor"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Profit:</h5></div>
					    				<div class="value" id="linkProfit"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Revenue:</h5></div>
					    				<div class="value" id="linkRevenue"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Fuel Cost:</h5></div>
					    				<div class="value" id="linkFuelCost"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Crew Cost:</h5></div>
					    				<div class="value" id="linkCrewCost"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Airport Fees:</h5></div>
					    				<div class="value" id="linkAirportFees"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Depreciation:</h5></div>
					    				<div class="value" id="linkDepreciation"></div>
					    			</div>
					    			<div class="table-row">
					    				<div class="label"><h5>Other Costs:</h5></div>
					    				<div class="value" id="linkOtherCosts"></div>
					    			</div>
				    			</div>
				    			<div class="button" id="toggleLinkHistoryButton" onclick="toggleLinkHistoryView()">View Passenger Map</div>
				    			<div class="divider"></div>
				    			<div class="table" id="linkCompetitons" style="width: 100%">
			    					<h4>Direct Competitions</h4>
			    					<div class='table-row'>
			    						<div style="display: table-cell;"><h5>Airline</h5></div>
			    						<div style="display: table-cell;"><h5>Price</h5></div>
			    						<div style="display: table-cell;"><h5>Capacity</h5></div>
			    						<div style="display: table-cell;"><h5>Quality</h5></div>
			    					</div>
			    				</div>
			    				<div id=linkCompetitionsPie align="center"></div>
				    		</div>
				    		
			    			<div id="linkProfitChart" style="width: 50%; float: left; height: 170px;"></div>
			    			<div id="linkRidershipChart" style="width: 50%; float: left; height: 250px;"></div>
			    			<div id="linkRevenueChart" style="width: 50%; float: left; height: 250px;"></div>
			    		</div>
		    			<div id="planLinkDetails" style="width: 100%; display: none;">
		    				<h4>Plan Route Details</h4>
				    		<div class="table" style="width: 100%">
				    			<input type="hidden" id="planLinkFromAirportId"/>
				    			<input type="hidden" id="planLinkToAirportId"/>
					    		<div class="table-row">
					    			<div class="label"><h5>From:</h5></div>
				    				<div class="value" id="planLinkFromAirportName">
				    					<span class="text-value"></span>
				    					<span class="flag"></span>
				    					<img id="planLinkFromAirportEditIcon" src='@routes.Assets.versioned("images/icons/globe--pencil.png")' class='button' onclick="$('#planLinkFromAirportSelect').show()"  title="Change From Airport">
				    					<div class="value"><select id="planLinkFromAirportSelect" onchange="planLink($(this).val(), $('#planLinkToAirportId').val())"></select></div>
				    				</div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>To:</h5></div>
					    			<div class="value" id="planLinkToAirportName"></div>
					    		</div>
				    			<div class="table-row">
					    			<div class="label"><h5>Distance:</h5></div>
					    			<div class="value" id="planLinkDistance"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Direct Demand (Y/J/F):</h5></div>
					    			<div class="value" id="planLinkDirectDemand"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Direct Competitions:</h5></div>
					    			<div class="value">
										<div class="table" id="planLinkCompetitons" style="width: 100%">
					    					<div class='table-row'>
					    						<div style="display: table-cell;"><h5>Airline</h5></div>
					    						<div style="display: table-cell;"><h5>Price</h5></div>
					    						<div style="display: table-cell;"><h5>Capacity</h5></div>
					    						<div style="display: table-cell;"><h5>Quality</h5></div>
					    					</div>
					    				</div>			    			
					    			</div> 
			    				</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Aircraft Model:</h5></div>
					    			<div class="value"><select id="planLinkModelSelect" onchange="updatePlanLinkInfoWithModelSelected($(this).val()); updateModelInfo($(this).val())"></select></div>
					    		</div>
					    	</div>
					    	<div class="table" style="width: 100%" id="planLinkExtendedDetails">
					    		<div class="table-row">
					    			<div class="label"><h5>Airplanes:</h5></div>
					    			<div class="value"><select id="planLinkAirplaneSelect" multiple="multiple" onchange="updateFrequencyBar($('#planLinkModelSelect').val())"></select></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Flight Duration:</h5></div>
					    			<div class="value" id="planLinkDuration"></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Price:</h5></div>
					    			<div class="value">
					    				<input type="text" id="planLinkEconomyPrice"/>
					    				<input type="text" id="planLinkBusinessPrice"/>
					    				<input type="text" id="planLinkFirstPrice"/>
					    				<img src='@routes.Assets.versioned("images/icons/arrow-circle-135.png")' class='button' onclick='resetPrice()'  title="Reset to Default Ticket Prices">
					    			</div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Flight Frequency:</h5></div>
					    			<!--  <div class="value"><input type="text" id="planLinkFrequency"/></div> -->
					    			<div class="value"><div id="frequencyBar" data-empty-icon='@routes.Assets.versioned("images/icons/airplane-empty.png")' data-fill-icon='@routes.Assets.versioned("images/icons/airplane.png")'></div>
					    			<input type="hidden" id="planLinkFrequency" value="1"/></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"></div>
					    			<div class="value" style="padding-bottom: 15px"><h6><span id="planLinkLimitingFactor"></span></h6></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Seat Configurations:</h5></div>
					    			<div class="value"><div id="seatConfigurationGauge"></div></div>
					    		</div>
					    		<div class="table-row">
					    			<div class="label"><h5>Service Level:</h5></div>
					    			<div class="value"><div id="serviceLevelBar"  data-empty-icon='@routes.Assets.versioned("images/icons/star-empty.png")' data-fill-icon='@routes.Assets.versioned("images/icons/star.png")'></div>
					    			<input type="hidden" id="planLinkServiceLevel" value="1"/></div>
					    		</div>
				    		</div>
				    		<div class="button" id="addLinkButton" onclick="createLink()">Create</div>
				    		<div class="button" id="updateLinkButton" onclick="createLink()">Update</div>
				    		<div class="button" id="cancelLinkButton" onclick="cancelPlanLink()">Cancel</div>
				    	</div>
			    	</div>
	<!-- 		    	end details panel -->
		   			<div id="extendedPanel" class="section" style="width: 100%; float: left; display: none;">
						<div class="table" id="airplaneModelDetails" style="width: 100%; display: none;">
							<h4>Airplane Model Details</h4>
		<!-- 					Model : <select id="airplaneModelOption" onchange="updateModelInfo()"></select><br/> -->
							<div class="table-row">
				    			<div class="label"><h5>Model:</h5></div>
				    			<div class="value" id="modelName"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Max Capacity:</h5></div>
				    			<div class="value" id="capacity"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Fuel Burn:</h5></div>
				    			<div class="value" id="fuelBurn"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Speed:</h5></div>
				    			<div class="value" id="speed"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Max Flying Range:</h5></div>
				    			<div class="value" id="range"></div>
					    	</div>
					    	<div class="table-row">
				    			<div class="label"><h5>Purchase Price:</h5></div>
				    			<div class="value" id="price"></div>
					    	</div>
					    	<div class="button" onclick="addAirplane($('#airplaneModelDetails #selectedModel').val(), 1, true)">Purchase</div>
					    	<input type="hidden" id="selectedModel"/>
						</div>
					</div>
<!-- 				end extended panel -->
	    	   </div>
<!-- 	    	   end bottom panel -->
  			</div>
<!--   			end world map canvas -->
			<div id="linksCanvas" style="display: none;">
  				<div style="height: 100% ; width : 50%; float: left;" class="section"> 
	  	  			<div class="table data" id="linksTable" style="height: 100%; width: 100%">
	 	  				<div class="table-header">
	 	  					<div class="cell clickable selected" style="width: 20%" data-sort-property="fromAirportCity" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">From Airport</div>
	 	  					<div class="cell clickable" style="width: 20%" data-sort-property="toAirportCity" data-sort-order="descending" onclick="toggleLinksTableSortOrder($(this))">To Airport</div>
	 	  					<div class="cell clickable" style="width: 8%" align="right" data-sort-property="distance" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Distance</div>
	 	  					<div class="cell clickable" style="width: 8%" align="right" data-sort-property="totalCapacity" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Capacity</div>
	 	  					<div class="cell clickable" style="width: 8%" align="right" data-sort-property="totalPassengers" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Passenger</div>
	 	  					<div class="cell clickable" style="width: 15%" align="right" data-sort-property="revenue" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Revenue</div>
	 	  					<div class="cell clickable" style="width: 15%" align="right" data-sort-property="profit" data-sort-order="ascending" onclick="toggleLinksTableSortOrder($(this))">Profit</div>
						</div>
         			</div>
				</div>					  				
  				<!--  Link details here -->
  			</div>
<!--  end links canvas -->

  			<div id="airportCanvas" style="display: none;">
  				<div id="airportMap" style=" height: 500px ; width: 550px; float: left;" data-city-marker='@routes.Assets.versioned("images/markers/city.png")' data-town-marker='@routes.Assets.versioned("images/markers/town.png")'  data-village-marker='@routes.Assets.versioned("images/markers/village.png")' data-airport-marker='@routes.Assets.versioned("images/markers/airport.png")'></div>
  				<div id="airportSchedule" style="width: 900px; height: 400px; float: left;"></div>
  				<div id="airportStatistics" style="width: 900px; height: 250px; float: left;" class="section">
	  				<div style="float: left;">
	  					<h5 align="center">Airline share (as Departure)</h5>
	  					<div id="airlineDeparturePie" style="height: 160px; width: 300px;" align="center"></div>
	  				</div>
	  				<div style="float: left;">	
	  					<h5 align="center">Airline share (as Arrival)</h5>
	  					<div id="airlineArrivalPie" style="height: 160px; width: 300px;" align="center"></div>
	  				</div>
	  				<div style="float: left;">
	  					<h5 align="center">Passenger Transit Type</h5>	
	  					<div id="transitTypePie" style="height: 160px; width: 300px;" align="center"></div>
	 				</div>
  				</div>
  			</div>
  			<div id="countryCanvas" style="height: 100%; display: none;">
  				<div class="section" style="height: 90% ; width : 35%; float: left; overflow: auto;">
  					<ul id="countryList"></ul>
  				</div>
  				<div id="countryDetails" class="table section" style="width: 60%;" float: left;">
  					<div class="table-row">
	    				<div class="label"><h5>Country:</h5></div>
	    				<div class="value" id="countryDetailsName"></div>
	    			</div>
	    			<div class="table-row">
	    				<div class="label"><h5>Income Level:</h5></div>
	    				<div class="value" id="countryDetailsIncomeLevel"></div>
	    			</div>
	    			<div class="table-row">
	    				<div class="label"><h5>Market Openness:</h5></div>
	    				<div class="value" id="countryDetailsOpenness"></div>
	    			</div>
	    			<div class="table-row">
	    				<div class="label"><h5>Large Airports:</h5></div>
	    				<div class="value" id="countryDetailsLargeAirportCount"></div>
	    			</div>
	    			<div class="table-row">
	    				<div class="label"><h5>Medium Airports:</h5></div>
	    				<div class="value" id="countryDetailsMediumAirportCount"></div>
	    			</div>
	    			<div class="table-row">
	    				<div class="label"><h5>Small Airports:</h5></div>
	    				<div class="value" id="countryDetailsSmallAirportCount"></div>
	    			</div>
	    			<div class="table-row">
	    				<div class="label"><h5>Airline Headquarters:</h5></div>
	    				<div class="value" id="countryDetailsAirlineHeadquarters"></div>
	    			</div>
	    			<div class="table-row">
	    				<div class="label"><h5>Airline Bases:</h5></div>
	    				<div class="value" id="countryDetailsAirlineBases"></div>
	    			</div>
	    		</div>
  			</div>
  			<div id="airplaneCanvas" style="height: 100%; display: none;">
  				<div class="section" style="height: 90% ; width : 35%; float: left;"> 
	  				<div id="airplaneModelSort" style="height: 35px ; width : 100%;">
	  					<span class="label">Sort:</span>
		  					<select id="airplaneSortSelect" onchange="updateAirplaneModelList($('#airplaneSortSelect').val(), $('#airplaneSortOrderSelect').val())">
		  						<option value="capacity" selected="selected">Max Capacity</option>
		  						<option value="range">Max Flying Range</option>
		  						<option value="price">Purchase Price</option>
		  						<option value="assignedAirplanes">Owned (Assigned)</option>
		  						<option value="freeAirplanes">Owned (Unassigned)</option>
		  						<option value="name">Model Name</option>
		  						<option value="speed">Speed</option>
		  						<option value="fuelBurn">Fuel Burn</option>
		  					</select>
		  					<select id="airplaneSortOrderSelect" onchange="updateAirplaneModelList($('#airplaneSortSelect').val(), $('#airplaneSortOrderSelect').val())">
		  						<option value="ascending" selected="selected">Ascending</option>
		  						<option value="descending">Descending</option>
		  					</select>
	  					
	  				</div>
	 	  			<div class="section" style="height: 90%; width : 50%; float: left; overflow: auto; margin: 10px 0px 10px 10px; border-radius: 5px 0px 0px 5px;">
	 	  				<h4>Airplane Models</h4>
	 	  				<ul id="airplaneModelList"></ul>
	 	  			</div>
	  				<div class="section" style="height: 90% ; width : 40%; float: left; overflow: auto; margin: 10px 10px 10px 0px; border-radius: 0px 5px 5px 0px;">
	  					<h4>Inventory</h4>
	  					<ul id="airplaneInventoryList"></ul>
	  				</div>
				</div>					  				
  				<div id="airplaneModelDetail" class="table section" style="width: 60%; float: left; display: none;">
  					<h4>Airplane Model Details</h4>
					<div class="table-row">
		    			<div class="label"><h5>Model:</h5></div>
		    			<div class="value" id="modelName"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Max Capacity:</h5></div>
		    			<div class="value" id="capacity"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Fuel Burn:</h5></div>
		    			<div class="value" id="fuelBurn"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Speed:</h5></div>
		    			<div class="value" id="speed"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Max Flying Range:</h5></div>
		    			<div class="value" id="range"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Purchase Price:</h5></div>
		    			<div class="value" id="price"></div>
			    	</div>
			    	<div class="button" onclick="addAirplane($('#airplaneCanvas #selectedModel').val(), 1, false)">Purchase</div>
			    	<input type="hidden" id="selectedModel"/>
	    		</div>
	    		<div id="ownedAirplaneDetail" class="table section" style="width: 60%; float: left; display: none">
	    			<h4>Owned Airplane Details</h4>
	    			<div class="table-row">
		    			<div class="label"><h5>Airplane ID:</h5></div>
		    			<div class="value" id="airplaneDetailsId"></div>
			    	</div>
    				<div class="table-row">
		    			<div class="label"><h5>Condition:</h5></div>
		    			<div class="value" id="airplaneDetailsCondition"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Age:</h5></div>
		    			<div class="value" id="airplaneDetailsAge"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Value:</h5></div>
		    			<div class="value" id="airplaneDetailsValue"></div>
			    	</div>
			    	<div class="table-row">
		    			<div class="label"><h5>Assigned Route:</h5></div>
		    			<div class="value" id="airplaneDetailsLink"></div>
			    	</div>
			    	<input type="hidden" id="actionAirplaneId"></input>
	   				<div class="button" id ="sellAirplaneButton" onclick="sellAirplane($('#actionAirplaneId').val())">Sell</div>
	    		</div>
  			</div>
  		</div>
  	<!-- main canvas end -->
		<div style="clear:both"/>
    </div>
    
    <!-- popups and overlay buttons below. Hidden by default -->
	<div id="hideLinkHistoryButton" class="googleMapButton button" onclick="hideLinkHistoryView()" style="display: none;" align="center"><span class="alignHelper"></span><img src='@routes.Assets.versioned("images/icons/arrow-return.png")' style="vertical-align: middle; padding-right: 5px"/>Exit route history view</div>
    <div style="display: none; width: 100%;" id="airportPopup">
    	<input type="hidden" id="airportPopupId"></input>
    	<div>
    		<span id="airportPopupName" class="header"></span><img title="View Airport Details" src='@routes.Assets.versioned("images/icons/information-24.png")' class="button" onclick="showAirportDetails($('#airportPopupId').val())">
    	</div>
    	<div id="airportIcons">
    		<img title="Your Headquarter" src='@routes.Assets.versioned("images/icons/building-hedge.png")' id="popupHeadquarterIcon" class="baseIcon">
    		<img title="Your Base" src='@routes.Assets.versioned("images/icons/building-low.png")' id="popupBaseIcon" class="baseIcon">
    	</div>
    	<div class="button" id="buildHeadquarterButton" style="display: none;" onclick="buildBase($('#airportPopupId').val(), true)">Build Headquarter</div>
    	<div class="button" id="buildBaseButton" style="display: none;" onclick="buildBase($('#airportPopupId').val(), false)">Build Base</div>
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>IATA code:</h5></div>
   				<div class="value" id="airportPopupIata"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>City:</h5></div>
   				<div class="value" id="airportPopupCity"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Country code:</h5></div>
   				<div class="value"><span id="airportPopupCountryCode"></span></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Airport scale:</h5></div>
   				<div class="value" id="airportPopupSize"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Population coverage:</h5></div>
   				<div class="value" id="airportPopupPopulation"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Average income level:</h5></div>
   				<div class="value" id="airportPopupIncomeLevel"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Slots available (airport total):</h5></div>
   				<div class="value" id="airportPopupSlots"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Slots held by your airline (max possible):</h5></div>
   				<div class="value" id="airportPopupAssignedSlots"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Awareness of your airline:</h5></div>
   				<div class="value" id="airportPopupAwareness"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Loyalty to your airline:</h5></div>
   				<div class="value" id="airportPopupLoyalty"></div>
   			</div>
		</div>
		<div class="button" id="planToAirportButton">Plan Route (to airport)</div>
    </div>
    
     <div style="display: none; width: 100%;" id="cityPopup">
    	<input type="hidden" id="cityPopupId"></input>
    	<div id="cityPopupName" class="header"></div>
    	<div id="cityIcons">
    		<!-- <img alt="Your Headquarter" title="Your Headquarter" src='@routes.Assets.versioned("images/icons/building-hedge.png")' id="popupHeadquarterIcon"><img alt="Your Base" title="Your Base" src='@routes.Assets.versioned("images/icons/building-low.png")' id="popupBaseIcon">  -->
    	</div>
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>Country code:</h5></div>
   				<div class="value" id="cityPopupCountryCode"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Population:</h5></div>
   				<div class="value" id="cityPopupPopulation"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Average income level:</h5></div>
   				<div class="value" id="cityPopupIncomeLevel"></div>
   			</div>
		</div>
		
		<div id="cityPie" style="height: 200px; width: 350px;"></div>
    </div>
    
    <div style="display: none; width: 100%;" id="linkHistoryPopup">
    	<input type="hidden" id="linkHistoryPopupId"></input>
    	<div class="table" style="width: 100%">
   			<div class="table-row">
   				<div class="label"><h5>From :</h5></div>
   				<div class="value" id="linkHistoryPopupFrom"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>To:</h5></div>
   				<div class="value" id="linkHistoryPopupTo"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Passengers of your airline:</h5></div>
   				<div class="value" id="linkHistoryThisAirlinePassengers"></div>
   			</div>
   			<div class="table-row">
   				<div class="label"><h5>Passengers of other airline:</h5></div>
   				<div class="value" id="linkHistoryOtherAirlinePassengers"></div>
   			</div>
		</div>
    </div>
	 
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5XQhzy2XrM95AyfW8f5BeWJiqr-LGXxU&libraries=geometry&callback=initMap">
	</script>
	 
  </body>
</html>
